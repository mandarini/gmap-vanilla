"use strict";!function r(n,s,i){function g(t,e){if(!s[t]){if(!n[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(c)return c(t,!0);var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}var l=s[t]={exports:{}};n[t][0].call(l.exports,function(e){return g(n[t][1][e]||e)},l,l.exports,r,n,s,i)}return s[t].exports}for(var c="function"==typeof require&&require,e=0;e<i.length;e++)g(i[e]);return g}({1:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0});var a=e("./map"),l=e("./drawing"),r=document.getElementById("drawingControls"),n=[{name:"marker",img:"point"},{name:"polygon",img:"polygon"},{name:"square",img:"square"},{name:"circle",img:"circle"},{name:"polyline",img:"line"},{name:"cat",img:"cat"},{name:"pan",img:"pan"},{name:"save",img:"save"},{name:"clear",img:"clear"}];o.loadAllDrawingButtons=function(){n.forEach(function(e){!function(t,e,o){var a=document.createElement("img");a.id="".concat(t.name,"-control"),a.tabIndex=0,a.setAttribute("role","button"),"clear"===o?(a.src="assets/img/".concat(t.img,".svg"),a.addEventListener("click",function(e){l.clearAll()})):(a.src="assets/img/".concat(t.img,".png"),a.addEventListener("click",function(e){l.draw(t.name)}));e.appendChild(a)}(e,r,"clear"===e.name?"clear":"draw")})},o.listenersForControlButtons=function(){document.getElementById("city-lon").addEventListener("click",function(e){a.city("lon")}),document.getElementById("city-man").addEventListener("click",function(e){a.city("man")})}},{"./drawing":2,"./map":4}],2:[function(e,t,o){var l,r;Object.defineProperty(o,"__esModule",{value:!0});var n=[];o.listenForDrawing=function(a,e){r=new google.maps.Data,(l=e).addListener("overlaycomplete",function(e){switch(n.push(e.overlay),e.overlay.addListener("rightclick",function(){e.overlay.setMap(null)}),e.type){case"polygon":r.add(new google.maps.Data.Feature({geometry:new google.maps.Data.Polygon([e.overlay.getPath().getArray()])})),a.data.add(new google.maps.Data.Feature({geometry:new google.maps.Data.Polygon([e.overlay.getPath().getArray()])}));break;case"rectangle":var t=e.overlay.getBounds(),o=[t.getSouthWest(),{lat:t.getSouthWest().lat(),lng:t.getNorthEast().lng()},t.getNorthEast(),{lng:t.getSouthWest().lng(),lat:t.getNorthEast().lat()}];r.add(new google.maps.Data.Feature({geometry:new google.maps.Data.Polygon([o])})),a.data.add(new google.maps.Data.Feature({geometry:new google.maps.Data.Polygon([o])}));break;case"polyline":r.add(new google.maps.Data.Feature({geometry:new google.maps.Data.LineString(e.overlay.getPath().getArray())})),a.data.add(new google.maps.Data.Feature({geometry:new google.maps.Data.LineString(e.overlay.getPath().getArray())}));break;case"circle":r.add(new google.maps.Data.Feature({properties:{radius:e.overlay.getRadius()},geometry:new google.maps.Data.Point(e.overlay.getCenter())})),a.data.add(new google.maps.Data.Feature({properties:{radius:e.overlay.getRadius()}}));break;case"marker":r.add(new google.maps.Data.Feature({geometry:new google.maps.Data.Point(e.overlay.getPosition())}));break;default:console.log("end")}})},o.draw=function(e){switch(console.log("hey"),e){case"marker":l.setDrawingMode(google.maps.drawing.OverlayType.MARKER);var t={url:"assets/img/point.png",scaledSize:new google.maps.Size(30,30)};l.setOptions({markerOptions:{icon:t,clickable:!0,draggable:!0}});break;case"cat":l.setDrawingMode(google.maps.drawing.OverlayType.MARKER);var o={url:"assets/img/cat.png",scaledSize:new google.maps.Size(70,70)};l.setOptions({markerOptions:{icon:o,clickable:!0,draggable:!0}});break;case"polygon":l.setDrawingMode(google.maps.drawing.OverlayType.POLYGON),l.setOptions({polygonOptions:{fillColor:"#9c4d4f",fillOpacity:.5,strokeWeight:2,strokeColor:"#401619",clickable:!0,editable:!0,draggable:!0}});break;case"square":l.setDrawingMode(google.maps.drawing.OverlayType.RECTANGLE),l.setOptions({rectangleOptions:{fillColor:"#fff82e",fillOpacity:.5,strokeWeight:2,strokeColor:"#c8a535",clickable:!0,editable:!0,draggable:!0}});break;case"polyline":l.setDrawingMode(google.maps.drawing.OverlayType.POLYLINE),l.setOptions({polylineOptions:{strokeWeight:2,strokeColor:"#00b801",clickable:!0,editable:!0,draggable:!0}});break;case"circle":l.setDrawingMode(google.maps.drawing.OverlayType.CIRCLE),l.setOptions({circleOptions:{fillColor:"#00b801",fillOpacity:.5,strokeWeight:2,strokeColor:"#00b801",clickable:!0,editable:!0,draggable:!0}});break;case"pan":l.setDrawingMode(null);break;case"save":l.setDrawingMode(null),r.toGeoJson(function(e){console.log(e),function(e,t){var o=document.createElement("a"),a=new Blob([e],{type:"text/plain"});o.href=URL.createObjectURL(a),o.download=t,o.click()}(JSON.stringify(e),"drawingData.txt")});break;default:l.setDrawingMode(null)}},o.clearAll=function(){n.map(function(e){e.setMap(null)}),r.setMap(null),r=new google.maps.Data,n=[]}},{}],3:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0});var a,l=e("./mapscript"),r=e("./clickListeners"),n=e("./map");function s(){a=new google.maps.Map(document.getElementById("map"),{zoom:11,scrollwheel:!0,panControl:!1,mapTypeControl:!1,zoomControl:!0,streetViewControl:!1,scaleControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE,position:google.maps.ControlPosition.RIGHT_BOTTOM}}),n.FunWithMaps(a)}r.loadAllDrawingButtons(),r.listenersForControlButtons(),window.google&&window.google.maps?s():l.loadMapScript("geometry,drawing,visualization",function(e){console.log(e),s()})},{"./clickListeners":1,"./map":4,"./mapscript":5}],4:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0});var a,l,r,n=e("./styledMap"),s=e("./drawing");function i(e,t){return new google.maps.LatLng(e,t)}o.FunWithMaps=function(e){a=e,l=i(51.561638,-.14);var t=new google.maps.StyledMapType(n.styledMap,{name:"Dark Map"});e.setCenter(l),e.mapTypes.set("dark_map",t),e.setMapTypeId("dark_map"),e.controls[google.maps.ControlPosition.LEFT_TOP].push(document.getElementById("controls")),e.controls[google.maps.ControlPosition.LEFT_BOTTOM].push(document.getElementById("legend")),e.controls[google.maps.ControlPosition.TOP_RIGHT].push(document.getElementById("drawingControls")),e.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(document.getElementById("katlink")),(r=new google.maps.drawing.DrawingManager({drawingMode:null,drawingControl:!1})).setMap(e),s.listenForDrawing(e,r)},o.city=function(e){"lon"===e&&a.setCenter(i(51.561638,-.14)),"man"===e&&a.setCenter(i(53.52476717517185,-2.5434842249308414))}},{"./drawing":2,"./styledMap":6}],5:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.loadMapScript=function(e,t){if(console.log("hey there"),!document.getElementById("gmap")){var o=document.createElement("script");o.type="text/javascript",o.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCrJXi-qaWm9FtOLL0h3xO_kfORit6WS2s",e&&0<e.length&&(o.src=o.src+"&libraries="+e),o.id="gmap",o.addEventListener("load",function(e){console.log("loaded"),t(e)},!1),document.body.appendChild(o)}}},{}],6:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.styledMap=[{elementType:"geometry",stylers:[{color:"#9a9a9a"}]},{elementType:"labels.text.fill",stylers:[{color:"#111111"}]},{elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#c8c8c8"}]},{featureType:"administrative.land_parcel",elementType:"geometry.stroke",stylers:[{color:"#c8c8c8"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#c8c8c8"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#c8c8c8"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#c8c8c8"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#111111"},{visibility:"simplified"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#c8c8c8"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#111111"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#aaaaaa"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#999999"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#666666"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#444444"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#111111"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#c8c8c8"}]},{featureType:"transit.line",elementType:"labels.text.fill",stylers:[{color:"#111111"}]},{featureType:"transit.line",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#c8c8c8"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#222222"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#222222"}]}]},{}]},{},[3]);
//# sourceMappingURL=bundle.js.map
